<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Resultados de búsqueda</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .flag-img {
            max-height: 100px;
            object-fit: contain;
        }

        .coat-img {
            max-height: 80px;
            object-fit: contain;
        }

        .card {
            transition: transform 0.2s ease;
        }

        .card:hover {
            transform: scale(1.02);
        }
    </style>

</head>
<body class="bg-light">
<div class="container py-5">
    <h1 class="mb-4 text-center">Resultados de búsqueda</h1>
    <p class="text-center text-muted" th:text="'Resultados para: ' + ${searchTerm}"></p>

    <div th:if="${error}" class="alert alert-danger text-center" th:text="${error}"></div>

    <div th:if="${countries}">
        <div th:each="country : ${countries}" class="mb-5">

            <div class="bg-white p-3 rounded shadow-sm mb-3 text-center">
                <img th:src="${country.flags.png}" th:alt="${country.flags.alt}" class="img-fluid" style="max-height: 120px; object-fit: contain;">
            </div>

            <div class="bg-white p-3 rounded shadow-sm mb-3">
                <h3 class="mb-0 fw-bold" th:text="${country.name.common}">Nombre común</h3>
                <small class="text-muted" th:text="${country.name.official}">Nombre oficial</small>
            </div>

            <div class="bg-white p-4 rounded shadow-sm">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Capital:</strong> <span th:text="${country.capital[0]}"></span></p>
                        <p><strong>Región:</strong> <span th:text="${country.region}"></span></p>
                        <p><strong>Subregión:</strong> <span th:text="${country.subregion}"></span></p>
                        <p><strong>Continente:</strong> <span th:text="${country.continents[0]}"></span></p>
                        <p><strong>Área:</strong> <span th:text="${country.area} + ' km²'"></span></p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Idiomas:</strong></p>
                        <ul>
                            <li th:each="entry : ${country.languages.entrySet()}" th:text="${entry.value}"></li>
                        </ul>

                        <p><strong>Monedas:</strong></p>
                        <ul>
                            <li th:each="moneda : ${country.currencies}" th:text="${moneda.value.name + ' (' + moneda.value.symbol + ')'}"></li>
                        </ul>
                    </div>
                </div>

                <div class="text-center mt-4" th:if="${country.coatOfArms.png}">
                    <small class="text-muted d-block mb-1">Escudo de armas:</small>
                    <img th:src="${country.coatOfArms.png}" alt="Escudo de armas" class="img-fluid" style="max-height: 80px; object-fit: contain;">
                </div>
            </div>
        </div>
    </div>
</div>


<script src="https://kit.fontawesome.com/a2e0f1f0d3.js" crossorigin="anonymous"></script>
</body>
</html>
